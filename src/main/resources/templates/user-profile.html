<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
  <head>
    <meta charset="UTF-8">
    <title>User Profile</title>
    <link rel="stylesheet" type="text/css" th:href="@{/css/style.css}">
  </head>
  <body>
  <div th:replace="~{fragments/fragments :: header}"></div>
  <div th:if="${showModal}" class="modal" id="myModal">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Attention</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <a href="/register" class="modal-link">Don't have a profile yet? Make it!</a>
          <a href="/login" class="modal-link">Already have a profile? Log In!</a>
        </div>
      </div>
    </div>
  </div>
  <div th:if="${user != null}" class="profile-container">
    <h2>My Profile</h2>
    <form id="profileForm">
      <input type="hidden" id="id" th:value="${user.id}" />
      <label for="name">Name:</label>
      <input type="text" id="name" name="name" th:value="${user.name}" />
      <label for="surname">Surname:</label>
      <input type="text" id="surname" name="surname" th:value="${user.surname}" />
      <label for="birthdate">Birthdate:</label>
      <input type="date" id="birthdate" name="birthdate" th:value="${user.birthdate}" />
      <label for="address">Address:</label>
      <input type="text" id="address" name="address" th:value="${user.address}" />
      <label for="email">Email:</label>
      <input type="email" id="email" name="email" th:value="${user.email}" />
      <label for="username">Username:</label>
      <input type="text" id="username" name="username" th:value="${user.username}" required />
      <label for="password">Current Password:</label>
      <input type="password" id="password" name="password" required/>
      <label for="newPassword">New Password:</label>
      <input type="password" id="newPassword" name="newPassword" required />
      <label for="confirmNewPassword">Confirm New Password:</label>
      <input type="password" id="confirmNewPassword" name="confirmNewPassword" required />
      <button type="button" id="updateProfileButton">Update Profile</button>
    </form>
  </div>


  <div th:replace="~{fragments/fragments :: footer}"></div>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script th:src="@{/js/profile.js}"></script>
  </body>
</html>
